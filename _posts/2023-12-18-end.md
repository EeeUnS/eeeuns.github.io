---
layout: post
title:  "23년 회고록"
date:   2023-12-18 19:26:01 +0900
tag: 회고
---


야근하느라 못씀

이후에 12/25 ~ 26일에 쓰였습니다. 

회사에 취직되고보니 서버개발자가 된건에 대하여

넣을 시점에 내 주력 포트폴리오는 miniRT https://eeeuns.github.io/2022/08/26/minirt/ 라고 생각했기 때문에 만약 뽑히면 그래픽스쪽으로 뽑히지 않을까 생각하고 실제로 면접 준비때도 이쪽에 더 중점을 잡으려고했다. 특히 포폴에 대한 질문에서 내가 모르는게 있으면 안되니까

뽑히고나니 서버개발자가 되어있었다. 
물론 작업 범위가 딱 서버만 한다 이런건 아니지만, 서버에 초점이 잡혀있었다.
처음 회사 합격하면서, 부서명을 들었을때는 도저히 무슨 일을 하는 부서인지도 잘 이해를 못 했다. 
일을 하면서는 굉장히 업무에 적합한 부서명이라는 생각이 들긴하지만..

일을 하면서도 일이 클라 비중이 높았으면 더 못했겠다라는 생각도 막 들었다.

아무튼 회사 생활을 하니 아무래도 모자란 부분을 채우기위해 서버 공부를 시작하게 되었다.


상반기는 회사의 직군면접을 통과하는게 최우선 목표였다.

- via
- 게임 서버 프로그래밍 교과서 
- https://github.com/jacking75/edu_cpp_IOCP

진득하게 공부할시간은 모자라고 iocp 서버를 지속적으로 짜보려고 하고있는데, 
아직 온전히 짜고있지는 못하고있다.
내가 생각하는 부분까지 이해도 완벽하게 됐다고 할 수 없는 답답한 상태 이를 빨리 해소하고 싶은..

부분부분 궁금점이 생겨서 windows internals까지 책을 뜯어보는 케이스도 종종 생겼지만.. (7판 2권 빨리 번역 나왔으면..)


아무튼 그렇게 다니고있는 지금 곳은 만족하고있다.
일도 유니크한 편이고
회사내에 목표로 하는 사람들도 있다.


9월~ 11월

네트워크 스터디

졸업은 했지만 따로 모집할 사람이 없기때문에 그냥 학교 동아리에서 스터디를 모집했다.
이전과 비슷하게 나를 위해서.. 강제성을 부여하는..

널널한 개발자 네트워크 강의를 들었다.

일단 평으로는 진짜 괜찮음. 
근데 요것만 가지고는 네트워크 이론 전반적으로는 빈곳이(ex 게이트웨이라는 용어를 사용하는데 막상 그것에 대한 설명이 따로 없음) 중간중간있어서 완전 처음들으면 이해 못할 수도 있기에, 책은 또 따로 곁들이는게 필요할거같음.

일단 딱 개념만 배우고싶은 학생한텐 적합하지않고 이 지식을 진짜 써먹어야하는 개발자, 현업종사자한테 특히 괜찮지않나라는 생각이 듬



일적으로 많이 느낀것.

- 맡은 일감에 대해 일정산출은 중요하다
- 코드를 잘짜는것도 중요하다.
- 무언가 얘기할때 근거를 들어 얘기하는건 매우 중요하다.
- 메일, 글 잘쓰는건 굉장히 중요하다.
- 개발 외적으로도 굉장히 많이 배운다.. 그리고 진짜 많이 모자라다는것도 많이 느낀다.


널체크는 굉장히 중요하다.
코드는 더럽지만 이 함수를 다 엎으려니 작업 스펙이 너무크고, 일은 많고, 장애를 피해야하니 결국 곳곳에 if else 떡칠을 하게된다


백엔드에서 db가 굉장히 중요하다.
게임 서버 쪽보다는 웹쪽에서 서버가 더 중요하다..

예외처리는 중요하다
그리고 아름답게 코드를 짜는 법따위는 없다..


구조는 무조건 간단하게.
제한 조건은 최대한 덜고..
투박하고. 함수안에선 최대한 깔끔하게 짜려고 노력하기
진짜 중요함..



리팩토링에 대한 생각

회사 코드가 굉장히 방대하고, 업무특성상 코드를 읽는 시간이 압도적으로 많은지라 코드 가독성이나, 리팩토링에 대해서 많은 생각을 하게되었는데, 일단 서버쪽 코드 리팩토링은 못하겠고(당연히 허락도 안난다.) 그래도 개별작업이 모두 분리되어있는 툴 코드에 대해서 작업이 필요할때 같이 리팩토링을 좀 마음가는대로 해봤다.

- 리팩토링하는 시간이 회사에선 비용이다.
  - 집에서 내가 더러워서 구조를 새로 잡는건 내 시간만 쓰는건데 회사에선 월급을 받으며 하는 일이다. 내 코드 작업물에 대해서 마지막에 코드 정리를 하는정도는 나쁘지 않겠지만.. 
  - 흔히 이미 짜여진 코드가 더러워서 리팩토링 하는것은 사실상 불가능하고 구조가 실수로 인해 버그를 지속적으로 유발하는 코드일때는 리팩토링의 의견이 나올만한 대상이 될 수도있다.
  - 하지만 이에 대해 당연히 개발자들은 일반적으로 꺼리게되고 결국에 답답해서 못참는 사람이 작업을 맡아 하게됨
- 클래스, 함수구조를 완전히 엎어버렸을때 다른 고연차 개발자들이 이슈 트래킹이 필요할시에 로직이 완전 엎어져서 애를 먹을 수도 있다 일을 할때에 핵심 함수명을 기억하고 걔를 바로 검색해서 로직을 따라가는 일은 빈번한데 어떻게보면 이 또한 비용을 유발하는거라 볼 수 있다
- 코드베이스가 완전 커져버리면 코드 관리가 진짜 힘들 수 있다. 공용 메모장에 개인 메모장을 쓴다 생각이 들 정도로. 어떤 공용적인 자료구조, 시스템, 함수를 만들어도 이부분에 대해서 사람들이 합의하고 다 같이써야 코드도 일관성이 있어지고 기존에 해당 코드가 만들어진 목적에 따른 개선이 이루어지는건데 기존 코드를 쓰는 사람들은 계속 쓰는지라.. 그리고 기존코드를 복붙해서 사용하게되면서(나 포함) 그런 문제가 되는 케이스도 있다.
- 중복코드 함수로 묶기 이에 대해서도 여러가지 생각이 들었는데 코드베이스에 코드 중복이 많이 있는 편인데 이를 다 묶자니 이후에 같은 로직이었던게 스펙이 달라지면서 같은로직이 아니게되면서 다시 함수를 죄다 풀어서 개별로 만들어야하는 케이스도 생기게 되었다. 오히려 곤란해지는 케이스가..
- early return 이 좋은가?에 대한생각 진짜 조건이 너무 많은 스파게티 코드의 경우 추가 로직을 집어넣을때 ealry return을 쓴다면 진짜 피볼 수도 있다. 실제로 이런 케이스도 있었고 굉장히 잡기 어려운 버그였다.. 중요한 처리를 안하고 return 해버릴 수도있기 때문.
- 진짜 로직 잘 체크해야하고 리팩토링을 버그 없이하기 굉장히 어렵다.
- 당장에 건들 수 있는 최선은 클래스 구조, 함수구조는 그대로 두기, 함수명 변경, 함수 인풋 아웃풋에 대해서 변화가 없게, 엄청 다중 들어가있는 if 정도 정리하는 정도
- 이쯤되면 버그도 스펙, 로컬에서 일어나는 버그가 릴리즈 변수 최적화(정확히는 변수 재정렬)로 인해 라이브에서 안 난적도 있음


예를들어 코드에 특정 값이 매직넘버 상수값으로 되어있는데 이를 죄다 enum으로 묶고 함수인자도 다 enum으로 넘어가게 강제하도록 바꿔버렸더니 나중에 특정 enum만 중간에 값을 바꿔서 처리해야하는 문제가 생김 이전에 온갖곳에 매직 넘버가 박혀있는 코드였으면은 딱 바뀌어야할 한 부분에 숫자만 변경하면 끝날 작업이었는데 로직 다 체크해서 어디서 바꿔야 적절한지 로직 다 체크하고하다보니 분명 깔끔하게 보이려고 구조를 잡았는데 코드를 고치기는 굉장히 힘들어지는? 이상한 상황이 탄생한 적이 있다.

https://megayuchi.com/2017/07/10/%EB%A9%8D%EC%B2%AD%ED%95%9C-%EC%B6%94%EC%83%81%ED%99%94-%ED%95%98%EC%A7%80-%EB%A7%88%EB%9D%BC/

멍청한 추상화

나중에 코드가 변경된다면 어디가 변경될지도 파악하는것이 중요

주니어에게는 구조 이전에 함수하나 가독성 좋게 짜는 것만으로도 아직은 충분한거같다.
나머지는 계속 고민하면서 답을 이끌어가야 할거같고

회사를 계속 다니다보면 어떻게 나름의 결론이 나올지도 모른다. 
이런 생각을 하는건 언제나 재미있는거같다.

손대는 부분이 넓다보니 진짜 이거저거를 만지게되다보니 곳곳에서 모자란 부분이 튀어나온다..
암호학 공부도 나름 열심히 했는데 모자라다는 생각도 여전히 들고.






이래저래 대학 후배들에게 질문도 몇가지 받았었는데(사실 징징대고싶어서 중도난입한 경우가 많다), 즉흥적으로 받아서 그냥 생각나는 대로 뱉다보니 제대로 정리해서 답변했다는 생각을 못했는데, 생각나는 질문들을 좀 적어보자면,

- 취업을 일찍 4-1, 4-2 준비하는게 좋을지, 졸업할때쯤 맞춰서 준비하는게 좋을지
솔직히 나는 가능하면 빠르게 취업하는것을 권장한다. 빠르게 취업도 좀 웃긴말이다. 내가 하고싶으면 하는게아닌데, 취직은 RPG마냥 차근차근 준비해서 하는게 아니다 어느순간 되는거같다. 
그리고 시간도 스펙이다. 같은 양을 짧게 한사람이 더 좋은 평가를 받는건 당연하다. 당연히 그러면서도 모자란 부분은 계속 채워나가야하고, 

본인이 손대고 싶은게 많아서, 그런것들을 학습하기위한 시간을 생각할 수도있다. 회사에서 최소 8시간씩 일하면서 성장하는것과 본인이 개인적으로 학습하는것 중 뭐가 더 좋을지 고려한다면, 회사에서 일하는 시간만큼 본인이 본인의지로 뭔갈 하는 사람은 42 있을때 제외하고 나는 못 봤다. 그렇게 의지있는 사람은 회사다니면서 집에서 추가적으로 더 해도 되지않을까.

본인이 열심히 노력했다 했는데 막상 취직하려고보니 씨알도 안먹히는 경우는 얼마든지 있다. 
취직 빨리해야하지하고 4학년때부터 취준한사람도 있는데 그러다 졸업 + 3년까지 못하는 케이스도 봤다. 조금이라도 빨리 본인이 객관적으로 평가를 받아야 복구가 된다.


- 저는 대학원을 가고싶어요
2학년인가에게 들었는데 솔직히 굉장히 놀랬다. 이유를 물었는데 학부수준으로는 만족못하고, 좀 더 깊게 공부하고 싶다고.
솔직히 분야따라 다른 느낌인데 일반 개발자라면 가능하면 안가길 권한다. 

일반 개발자가 석사하는건 별로 좋게 평가받을 일이 없다. 학부수준에서 챙길 수 있는 수준이라고들 생각되기 때문에, 석사는 그자체만으로 동일 시간대비 추가적인 역량을 보여줘야한다. 압도적인 퍼포먼스를 보여주던가, 그리고 그걸 보여줄 수 있으면 학사때 보여주면 제일 좋은거고

대학부터는 석사 학사 공부자체가 따로 없다고 생각한다 돈의 문제로 인해 연구실 지원이 없으면 못하는 일이다하면 어쩔 수 없겠지만 일반적인 개발은 그럴 일이 없으니.

나는 그 두꺼운 CLRS 책을 사서 공부를 했지만 이게 석사에서 다루는 교재라고 별로 생각안했다. 내가 본 설카포 고대 이런데서 수업하는 강의 자료보니까 다 이 책 베이스로 공부하던데, 나중에 무슨 알고리즘 석사하는데 이런거 배운다는거보고 음?
깊게 공부하고싶으면 대학 수준 빨리 끝내고 더 공부하면 되지않을까.


